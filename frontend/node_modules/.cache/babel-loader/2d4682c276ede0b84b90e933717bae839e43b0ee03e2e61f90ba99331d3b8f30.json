{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\91997\\\\blogging_platform\\\\frontend\\\\src\\\\pages\\\\CreateBlog.js\",\n  _s = $RefreshSig$();\nimport \"../styles/CreateBlog.css\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createblog } from \"../services/api\";\nimport BlogEditor from \"./BlogEditor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateBlog = () => {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [excerpt, setExcerpt] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [featuredImage, setFeaturedImage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  console.log(token);\n  if (token == null) {\n    navigate(\"/register\");\n    return;\n  }\n  const handleSubmit = async () => {\n    if (!title.trim() || !content.trim() || !category.trim()) {\n      setError(\"Please fill in all required fields\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"content\", content);\n      formData.append(\"excerpt\", excerpt);\n      formData.append(\"category\", category);\n      formData.append(\"tags\", tags);\n      if (featuredImage) {\n        formData.append(\"featuredImage\", featuredImage);\n      }\n      const response = await createblog(formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      navigate(`/blog/${response.data.blog._id}`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Error creating blog:\", error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to create blog\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold\",\n          children: \"Create New Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Share your thoughts with the world\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-error mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(BlogEditor, {\n          title: title,\n          setTitle: setTitle,\n          content: content,\n          setContent: setContent,\n          excerpt: excerpt,\n          setExcerpt: setExcerpt,\n          category: category,\n          setCategory: setCategory,\n          tags: tags,\n          setTags: setTags,\n          featuredImage: featuredImage,\n          setFeaturedImage: setFeaturedImage,\n          onSubmit: handleSubmit,\n          loading: loading,\n          submitText: \"Publish Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateBlog, \"0psvd8Ygx8Ke3jPn7h5yxQFoY5c=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateBlog;\nexport default CreateBlog;\nvar _c;\n$RefreshReg$(_c, \"CreateBlog\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useNavigate","createblog","BlogEditor","jsxDEV","_jsxDEV","CreateBlog","title","setTitle","content","setContent","excerpt","setExcerpt","category","setCategory","tags","setTags","featuredImage","setFeaturedImage","loading","setLoading","error","setError","navigate","token","localStorage","getItem","console","log","handleSubmit","trim","formData","FormData","append","response","headers","data","blog","_id","_error$response","_error$response$data","message","className","children","fileName","lineNumber","columnNumber","onSubmit","submitText","_c","$RefreshReg$"],"sources":["C:/Users/91997/blogging_platform/frontend/src/pages/CreateBlog.js"],"sourcesContent":["\"use client\"\r\n\r\nimport \"../styles/CreateBlog.css\"\r\nimport { useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { createblog } from \"../services/api\"\r\nimport BlogEditor from \"./BlogEditor\"\r\n\r\nconst CreateBlog = () => {\r\n  const [title, setTitle] = useState(\"\")\r\n  const [content, setContent] = useState(\"\")\r\n  const [excerpt, setExcerpt] = useState(\"\")\r\n  const [category, setCategory] = useState(\"\")\r\n  const [tags, setTags] = useState(\"\")\r\n  const [featuredImage, setFeaturedImage] = useState(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const token = localStorage.getItem('token');\r\n  console.log(token)\r\n  if(token == null){\r\n    navigate(\"/register\");\r\n    return \r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    if (!title.trim() || !content.trim() || !category.trim()) {\r\n      setError(\"Please fill in all required fields\")\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append(\"title\", title)\r\n      formData.append(\"content\", content)\r\n      formData.append(\"excerpt\", excerpt)\r\n      formData.append(\"category\", category)\r\n      formData.append(\"tags\", tags)\r\n\r\n      if (featuredImage) {\r\n        formData.append(\"featuredImage\", featuredImage)\r\n      }\r\n\r\n      const response = await createblog(formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n\r\n      navigate(`/blog/${response.data.blog._id}`)\r\n    } catch (error) {\r\n      console.error(\"Error creating blog:\", error)\r\n      setError(error.response?.data?.message || \"Failed to create blog\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-8\">\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold\">Create New Blog</h1>\r\n          <p className=\"mt-2 text-gray-600\">Share your thoughts with the world</p>\r\n        </div>\r\n\r\n        {error && <div className=\"alert alert-error mb-6\">{error}</div>}\r\n\r\n        <div className=\"card\">\r\n          <BlogEditor\r\n            title={title}\r\n            setTitle={setTitle}\r\n            content={content}\r\n            setContent={setContent}\r\n            excerpt={excerpt}\r\n            setExcerpt={setExcerpt}\r\n            category={category}\r\n            setCategory={setCategory}\r\n            tags={tags}\r\n            setTags={setTags}\r\n            featuredImage={featuredImage}\r\n            setFeaturedImage={setFeaturedImage}\r\n            onSubmit={handleSubmit}\r\n            loading={loading}\r\n            submitText=\"Publish Blog\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateBlog\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}