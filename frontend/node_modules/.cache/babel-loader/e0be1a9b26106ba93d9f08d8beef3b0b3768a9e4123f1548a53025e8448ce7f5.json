{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\91997\\\\blogging_platform\\\\frontend\\\\src\\\\pages\\\\CreateBlog.js\",\n  _s = $RefreshSig$();\nimport \"../styles/CreateBlog.css\";\nimport { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { createblog } from \"../services/api\";\nimport BlogEditor from \"./BlogEditor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateBlog = () => {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [excerpt, setExcerpt] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [featuredImage, setFeaturedImage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const handleSubmit = async () => {\n    if (!title.trim() || !content.trim() || !category.trim()) {\n      setError(\"Please fill in all required fields\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"content\", content);\n      formData.append(\"excerpt\", excerpt);\n      formData.append(\"category\", category);\n      formData.append(\"tags\", tags);\n      if (featuredImage) {\n        formData.append(\"featuredImage\", featuredImage);\n      }\n      const response = await createblog(formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      navigate(`/blog/${response.data.blog._id}`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Error creating blog:\", error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to create blog\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (token == null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Please SignUp in to Create Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"btn btn-primary\",\n          children: \"Resgister\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold\",\n          children: \"Create New Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Share your thoughts with the world\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-error mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(BlogEditor, {\n          title: title,\n          setTitle: setTitle,\n          content: content,\n          setContent: setContent,\n          excerpt: excerpt,\n          setExcerpt: setExcerpt,\n          category: category,\n          setCategory: setCategory,\n          tags: tags,\n          setTags: setTags,\n          featuredImage: featuredImage,\n          setFeaturedImage: setFeaturedImage,\n          onSubmit: handleSubmit,\n          loading: loading,\n          submitText: \"Publish Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateBlog, \"0psvd8Ygx8Ke3jPn7h5yxQFoY5c=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateBlog;\nexport default CreateBlog;\nvar _c;\n$RefreshReg$(_c, \"CreateBlog\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useNavigate","Link","createblog","BlogEditor","jsxDEV","_jsxDEV","CreateBlog","title","setTitle","content","setContent","excerpt","setExcerpt","category","setCategory","tags","setTags","featuredImage","setFeaturedImage","loading","setLoading","error","setError","navigate","token","localStorage","getItem","handleSubmit","trim","formData","FormData","append","response","headers","data","blog","_id","_error$response","_error$response$data","console","message","className","children","fileName","lineNumber","columnNumber","to","onSubmit","submitText","_c","$RefreshReg$"],"sources":["C:/Users/91997/blogging_platform/frontend/src/pages/CreateBlog.js"],"sourcesContent":["\"use client\"\r\n\r\nimport \"../styles/CreateBlog.css\"\r\nimport { useState } from \"react\"\r\nimport { useNavigate , Link } from \"react-router-dom\"\r\nimport { createblog } from \"../services/api\"\r\nimport BlogEditor from \"./BlogEditor\"\r\n\r\nconst CreateBlog = () => {\r\n  const [title, setTitle] = useState(\"\")\r\n  const [content, setContent] = useState(\"\")\r\n  const [excerpt, setExcerpt] = useState(\"\")\r\n  const [category, setCategory] = useState(\"\")\r\n  const [tags, setTags] = useState(\"\")\r\n  const [featuredImage, setFeaturedImage] = useState(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const token = localStorage.getItem('token');\r\n\r\n  const handleSubmit = async () => {\r\n    if (!title.trim() || !content.trim() || !category.trim()) {\r\n      setError(\"Please fill in all required fields\")\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append(\"title\", title)\r\n      formData.append(\"content\", content)\r\n      formData.append(\"excerpt\", excerpt)\r\n      formData.append(\"category\", category)\r\n      formData.append(\"tags\", tags)\r\n\r\n      if (featuredImage) {\r\n        formData.append(\"featuredImage\", featuredImage)\r\n      }\r\n\r\n      const response = await createblog(formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n\r\n      navigate(`/blog/${response.data.blog._id}`)\r\n    } catch (error) {\r\n      console.error(\"Error creating blog:\", error)\r\n      setError(error.response?.data?.message || \"Failed to create blog\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (token == null) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold mb-4\">Please SignUp in to Create Blog</h2>\r\n          <Link to=\"/register\" className=\"btn btn-primary\">\r\n            Resgister\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-8\">\r\n      <div className=\"max-w-4xl mx-auto px-4\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold\">Create New Blog</h1>\r\n          <p className=\"mt-2 text-gray-600\">Share your thoughts with the world</p>\r\n        </div>\r\n\r\n        {error && <div className=\"alert alert-error mb-6\">{error}</div>}\r\n\r\n        <div className=\"card\">\r\n          <BlogEditor\r\n            title={title}\r\n            setTitle={setTitle}\r\n            content={content}\r\n            setContent={setContent}\r\n            excerpt={excerpt}\r\n            setExcerpt={setExcerpt}\r\n            category={category}\r\n            setCategory={setCategory}\r\n            tags={tags}\r\n            setTags={setTags}\r\n            featuredImage={featuredImage}\r\n            setFeaturedImage={setFeaturedImage}\r\n            onSubmit={handleSubmit}\r\n            loading={loading}\r\n            submitText=\"Publish Blog\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateBlog\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}